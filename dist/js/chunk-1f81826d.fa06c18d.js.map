{"version":3,"sources":["webpack:///./src/components/Comment.vue","webpack:///./src/components/Comment.vue?cd81","webpack:///./src/views/Allpostuser.vue","webpack:///./src/components/PostsByUserId.vue","webpack:///./src/components/PostsByUserId.vue?32b8","webpack:///./src/views/Allpostuser.vue?f751"],"names":["class","comments","length","comment","key","id","src","User","avatar","alt","content","firstname","dateFormat","createdAt","names","props","user","type","Object","post","data","user_id","JSON","parse","sessionStorage","isAdmin","created","this","getAllComments","methods","post_id","stringify","a","get","headers","token","then","res","console","log","date","event","Date","options","year","month","day","hour","minute","toLocaleDateString","render","connected","posts","toggleModal","deleteUser","visible","title","imageurl","name","getUserPosts","$route","params","delete","location","href","components","Comment","LoginForm","Header","PostsByUserId","userConnected","undefined"],"mappings":"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","file":"js/chunk-1f81826d.fa06c18d.js","sourcesContent":["<template>\r\n  <div>    \r\n        <h2 v-if=\"comments.length > 0\" class=\"text-sm font-bold text-gray-500\" >Commentaires :</h2>        \r\n        <div class=\"flex space-x-2\" v-for=\"comment in comments\" :key=\"comment.id\">\r\n             \r\n            <div class=\"\" >\r\n              <img class=\"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-full mx-4  shadow\" v-bind:src=\"comment.User.avatar\" alt=\"\">\r\n            </div>\r\n            <div class=\"w-full pb-4 \">\r\n                <div class=\"bg-gray-100 rounded-xl mr-2\">                    \r\n                    <div class=\"text-sm p-2 m-2 text-left\">\r\n                      {{comment.content}}\r\n                    </div>                                                       \r\n                    <div class=\" text-xs \">                        \r\n                        <div class=\"font-semibold flex justify-end text-gray-700 px-2 \">\r\n                                                        \r\n                            <small class=\"pt-2 mr-2 text-red-400\">{{comment.User.firstname}}</small>                        \r\n                            <small class=\"pt-2\">le {{dateFormat(comment.createdAt)}}</small>                            \r\n                        </div>\r\n                    </div>\r\n                </div> \r\n                  \r\n            </div>\r\n        </div>              \r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    names: 'Comments',\r\n\r\n    props:{\r\n     user:{\r\n        type:Object                \r\n     },\r\n     post:{\r\n        type:Object\r\n     },\r\n     \r\n       \r\n    },\r\n\r\n    data(){\r\n        return{\r\n            comments: [],\r\n            user_id: JSON.parse(sessionStorage.user).user_id,\r\n            isAdmin: JSON.parse(sessionStorage.user).isAdmin   \r\n            \r\n        }\r\n    },\r\n   \r\n    created(){\r\n        this.getAllComments();      \r\n    },\r\n\r\n    methods: {       \r\n\r\n        getAllComments(){\r\n          const post_id = JSON.stringify(this.post.id);        \r\n          axios.get(`https://backendgroupomania.herokuapp.com/api/posts/${post_id}/comments`,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer `+ JSON.parse(sessionStorage.user).token\r\n                    }\r\n                }\r\n            )\r\n            .then(res => {\r\n                this.comments = res.data\r\n                console.log(res.data)\r\n            });\r\n        },\r\n\r\n        dateFormat(date){\r\n            const event = new Date(date);\r\n\r\n            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric' };\r\n\r\n            return event.toLocaleDateString('fr-FR', options);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n</script>","import { render } from \"./Comment.vue?vue&type=template&id=5d126c15\"\nimport script from \"./Comment.vue?vue&type=script&lang=js\"\nexport * from \"./Comment.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div>\r\n   <LoginForm v-if=\"!connected\"/>\r\n   <Header v-if=\"connected\"/>\r\n   <PostsByUserId v-if=\"connected\"/> \r\n   \r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport LoginForm from '@/components/LoginForm.vue';\r\nimport Header from '@/components/Header.vue';\r\nimport PostsByUserId from '@/components/PostsByUserId.vue';\r\n\r\n\r\nexport default {\r\n  name: 'Allpostuser',\r\n  components: {\r\n    LoginForm,\r\n    Header,\r\n    PostsByUserId\r\n   \r\n  },\r\n   data() { \r\n    return{\r\n      connected: true\r\n    };\r\n  },\r\n\r\n  created(){         \r\n    this.userConnected()\r\n  },\r\n\r\n  methods: {\r\n    userConnected(){\r\n      if(sessionStorage.user !== undefined){\r\n        this.connected = true;\r\n        console.log('Utilisateur connecté !');\r\n      }\r\n      else if(sessionStorage.user == undefined){\r\n        this.connected = false;\r\n        console.log('Utilisateur non connecté !');\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","<template>\r\n<div> \r\n   \r\n    <div v-if=\"posts.length == 0\">\r\n        <h1 class=\"p-4 m-2 font-bold text-2xl text-gray-800\">Il n'y a pas de publication chez cet utilisateur pour le moment ! </h1>    \r\n    </div> \r\n    \r\n    <div v-if=\"isAdmin == true\" class=\"p-4 font-bold text-2xl text-gray-800\">        \r\n        <p class=\"mt-2 text-sm text-gray-400\">Vous êtes l'administrateur du réseau <br>\r\n        Vous pouvez supprimer cet utilisateur!<br>        \r\n        </p>       \r\n      \r\n        <button type=\"button\" v-on:click=\"toggleModal()\" class=\"m-4 cursor-pointer bg-gray-800 hover:bg-red-500 text-white text-sm py-2 px-4 md:font-semibold rounded focus:outline-none focus:shadow-outline h-10\" >\r\n                supprimer le compte\r\n        </button>\r\n     \r\n            <div v-show=\"visible\" class=\"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex\">\r\n                <div class=\"relative w-auto my-6 mx-auto max-w-sm\">                 \r\n                  <div class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">                    \r\n                     <div class=\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\">\r\n                       <h3 class=\"text-3xl font-semibold\">Etes-vous sûr de vouloir supprimer le compte de cet utilisateur ?</h3>\r\n                       <button class=\"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\" v-on:click=\"toggleModal()\">\r\n                         <span class=\"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\">×</span>\r\n                        </button>\r\n                      </div>                 \r\n                      <div class=\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\">\r\n                         <button class=\"text-red-500 bg-transparent border border-solid border-red-500 hover:bg-red-500 hover:text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" type=\"button\" v-on:click=\"toggleModal()\">\r\n                        Annuler\r\n                       </button>\r\n                       <button class=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" type=\"button\" @click=\"deleteUser()\">\r\n                         Supprimer\r\n                        </button>\r\n                     </div>\r\n                   </div>\r\n                  </div>                  \r\n            </div> \r\n            <div v-show=\"visible\" class=\"opacity-25 fixed inset-0 z-40 bg-black\"></div> \r\n                   \r\n    </div>       \r\n\r\n    <div class=\"m-auto px-4 py-8 max-w-xl\" v-for= \"post in posts\" :key=\"post.id\">        \r\n        <div class=\"bg-white shadow-2xl\" >            \r\n            <div class=\"px-4 py-2 mt-2 bg-white\">  \r\n                <div class=\"flex items-center justify-between m-2 mb-2 \">\r\n                    <div class=\"\">\r\n                        <img class=\"w-6 h-6 sm:w-10 sm:h-10 object-cover rounded-full md:mx-4  shadow\" v-bind:src=\"post.User.avatar\" alt=\"photo de profil\">\r\n                    </div>                    \r\n                    <div class='flex text-gray-700 text-sm '>\r\n                        <div class=\"text-xs md:text-base pr-3\">Posté le {{dateFormat(post.createdAt)}}\r\n                        </div> \r\n                        <div class=\"text-xs md:text-base\">par <span class=\"text-red-400 \">{{post.User.firstname}}</span>\r\n                        </div>\r\n                    </div>                     \r\n                </div>                  \r\n                <h2 class=\"font-bold text-2xl text-gray-800\">{{post.title}}</h2>                \r\n                <img v-bind:src=\"post.imageurl\" class=\"w-full\"> \r\n                    <div class=\" flex items-center ml-3 mt-8 mb-4\">\r\n                        <p class=\"text-justify\"> {{post.content}}  </p>        \r\n                    </div>                  \r\n            </div>\r\n        \r\n        <Comment :post=\"post\"></Comment>\r\n        </div> \r\n    </div>    \r\n</div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport Comment from './Comment.vue';\r\nexport default {\r\n    name: 'PostByUserId',\r\n    props:{\r\n        user:{\r\n        type:Object                \r\n        },\r\n        post:{\r\n        type:Object\r\n        }\r\n     \r\n       \r\n    },     \r\n    \r\n    data(){\r\n        return{\r\n            posts: [],\r\n            user_id: JSON.parse(sessionStorage.user).user_id,\r\n            isAdmin: JSON.parse(sessionStorage.user).isAdmin, \r\n            visible:false, \r\n             \r\n        }\r\n    },\r\n\r\n    created(){\r\n        this.getUserPosts();\r\n    },\r\n\r\n    methods: {\r\n        \r\n        getUserPosts(){           \r\n    \r\n            axios.get(`https://backendgroupomania.herokuapp.com/api/users/${this.$route.params.id}/posts`,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Authorization': `Bearer `+ JSON.parse(sessionStorage.user).token\r\n                    }\r\n                }\r\n            )\r\n            .then(res => {\r\n                this.posts = res.data.posts;\r\n                console.log(this.posts)\r\n            })\r\n        },\r\n        \r\n        toggleModal(){\r\n        this.visible = !this.visible;\r\n         }, \r\n         \r\n        \r\n        deleteUser() {\r\n        const user_id = this.$route.params.id    \r\n        axios.delete(\"https://backendgroupomania.herokuapp.com/api/users/\"+ user_id,\r\n            {\r\n             headers: {\r\n                     'Content-Type': 'application/json',\r\n                     'Authorization': `Bearer `+ JSON.parse(sessionStorage.user).token\r\n                     }\r\n            }\r\n        )\r\n        .then(()=> location.href=\"/\");  \r\n   \r\n        },\r\n       \r\n        dateFormat(date){\r\n            const event = new Date(date);\r\n\r\n            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric' };\r\n\r\n            return event.toLocaleDateString('fr-FR', options);\r\n        },\r\n    },\r\n    components:{\r\n        Comment\r\n    }\r\n}\r\n\r\n</script>","import { render } from \"./PostsByUserId.vue?vue&type=template&id=6dc95887\"\nimport script from \"./PostsByUserId.vue?vue&type=script&lang=js\"\nexport * from \"./PostsByUserId.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Allpostuser.vue?vue&type=template&id=3aea4b62\"\nimport script from \"./Allpostuser.vue?vue&type=script&lang=js\"\nexport * from \"./Allpostuser.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}