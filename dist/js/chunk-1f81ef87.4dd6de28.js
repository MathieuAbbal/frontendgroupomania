(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f81ef87"],{"4ea3":function(e,t,o){"use strict";var s=o("7a23"),n={key:0,class:"text-sm font-bold text-gray-500"},r={class:""},a={class:"w-full pb-4 "},c={class:"bg-gray-100 rounded-xl mr-2"},i={class:"text-sm p-2 m-2 text-left"},l={class:" text-xs "},u={class:"font-semibold flex justify-end text-gray-700 px-2 "},d={class:"pt-2 mr-2 text-red-400"},b={class:"pt-2"};function p(e,t,o,p,g,m){return Object(s["p"])(),Object(s["d"])("div",null,[g.comments.length>0?(Object(s["p"])(),Object(s["d"])("h2",n,"Commentaires :")):Object(s["e"])("",!0),(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["t"])(g.comments,(function(e){return Object(s["p"])(),Object(s["d"])("div",{class:"flex space-x-2",key:e.id},[Object(s["g"])("div",r,[Object(s["g"])("img",{class:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-full mx-4  shadow",src:e.User.avatar,alt:""},null,8,["src"])]),Object(s["g"])("div",a,[Object(s["g"])("div",c,[Object(s["g"])("div",i,Object(s["w"])(e.content),1),Object(s["g"])("div",l,[Object(s["g"])("div",u,[Object(s["g"])("small",d,Object(s["w"])(e.User.firstname),1),Object(s["g"])("small",b,"le "+Object(s["w"])(m.dateFormat(e.createdAt)),1)])])])])])})),128))])}var g=o("bc3a"),m=o.n(g),f={names:"Comments",props:{user:{type:Object},post:{type:Object}},data:function(){return{comments:[],user_id:JSON.parse(sessionStorage.user).user_id,isAdmin:JSON.parse(sessionStorage.user).isAdmin}},created:function(){this.getAllComments()},methods:{getAllComments:function(){var e=this,t=JSON.stringify(this.post.id);m.a.get("https://backendgroupomania.herokuapp.com/api/posts/".concat(t,"/comments"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(t){e.comments=t.data,console.log(t.data)}))},dateFormat:function(e){var t=new Date(e),o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return t.toLocaleDateString("fr-FR",o)}}};f.render=p;t["a"]=f},c66d:function(e,t,o){"use strict";o.r(t);var s=o("7a23");function n(e,t,o,n,r,a){var c=Object(s["u"])("LoginForm"),i=Object(s["u"])("Header"),l=Object(s["u"])("UserProfile"),u=Object(s["u"])("UserPosts");return Object(s["p"])(),Object(s["d"])("div",null,[r.connected?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])(c,{key:0})),r.connected?(Object(s["p"])(),Object(s["d"])(i,{key:1})):Object(s["e"])("",!0),r.connected?(Object(s["p"])(),Object(s["d"])(l,{key:2})):Object(s["e"])("",!0),r.connected?(Object(s["p"])(),Object(s["d"])(u,{key:3})):Object(s["e"])("",!0)])}var r=o("61b1"),a=o("0418"),c={class:"m-auto px-4 py-8 max-w-xl"},i={class:"m-auto bg-white shadow-2xl p-8"},l={class:"text-center"},u={class:"mt-5 text-3xl font-bold text-gray-900"},d=Object(s["g"])("p",{class:"mt-2 text-sm text-gray-400"},"Vous pouvez modifié votre biographie et votre image de profil .",-1),b={class:"mt-8 space-y-3"},p=Object(s["g"])("div",{class:"flex flex-col "},[Object(s["g"])("label",{class:"text-sm font-bold text-gray-500 tracking-wide","html-for":"user-bio"},"biographie"),Object(s["g"])("textarea",{id:"bio",class:"m-4 p-2 p h-28 lg:h-36 text-base border border-gray-300 rounded-lg focus:outline-none focus:border-gray-900",type:"",placeholder:"Votre biographie"})],-1),g={class:"m-4 flex justify-center transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110 "},m={class:"text-sm font-bold text-gray-500  w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide  border border-blue cursor-pointer hover:bg-blue "},f=Object(s["g"])("svg",{class:"w-8 h-8 ",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[Object(s["g"])("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1),j=Object(s["g"])("span",{class:"mt-2 text-base leading-normal"},"Choisir un fichier",-1),O={id:"preview",class:" object-cover  mx-4  shadow"},h={class:"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"},v={class:"relative w-auto my-6 mx-auto max-w-sm"},x={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},y={class:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},w=Object(s["g"])("h3",{class:"text-3xl font-semibold"},"Etes-vous sûr de vouloir supprimer votre compte?",-1),k=Object(s["g"])("span",{class:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"},"×",-1),S={class:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b"},C={key:0,class:"opacity-25 fixed inset-0 z-40 bg-black"};function U(e,t,o,n,r,a){return Object(s["p"])(),Object(s["d"])("div",c,[Object(s["g"])("div",i,[Object(s["g"])("img",{class:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-full mx-4  shadow",src:r.avatar,alt:"photo de profil"},null,8,["src"]),Object(s["g"])("div",l,[Object(s["g"])("h2",u,"Bonjour "+Object(s["w"])(r.firstname+"!"),1),d]),Object(s["g"])("form",b,[p,Object(s["g"])("div",g,[Object(s["g"])("label",m,[f,j,Object(s["g"])("input",{type:"file",class:"hidden",name:"avatar",id:"avatar",onChange:t[1]||(t[1]=function(){return a.onFileChange&&a.onFileChange.apply(a,arguments)})},null,32),Object(s["g"])("div",O,[r.avatar?(Object(s["p"])(),Object(s["d"])("img",{key:0,src:r.avatar,class:"flex"},null,8,["src"])):Object(s["e"])("",!0)])])])]),Object(s["g"])("div",null,[Object(s["g"])("button",{onClick:t[2]||(t[2]=function(e){return a.modifyUser()}),type:"submit",class:"m-4 cursor-pointer bg-gray-800 hover:bg-green-500 text-white text-xs py-2 px-4 md:font-semibold rounded focus:outline-none focus:shadow-outline h-10 "}," Mettre à jour le profil "),Object(s["g"])("button",{type:"button",onClick:t[3]||(t[3]=function(e){return a.toggleModal()}),class:"m-4 cursor-pointer bg-gray-800 hover:bg-red-500 text-white text-xs py-2 px-4 md:font-semibold rounded focus:outline-none focus:shadow-outline h-10"}," Supprimer mon compte ")]),Object(s["C"])(Object(s["g"])("div",h,[Object(s["g"])("div",v,[Object(s["g"])("div",x,[Object(s["g"])("div",y,[w,Object(s["g"])("button",{class:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:t[4]||(t[4]=function(e){return a.toggleModal()})},[k])]),Object(s["g"])("div",S,[Object(s["g"])("button",{type:"button",onClick:t[5]||(t[5]=function(e){return a.toggleModal()}),class:"text-red-500 bg-transparent border border-solid border-red-500 hover:bg-red-500 hover:text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"}," Annuler "),Object(s["g"])("button",{type:"button",onClick:t[6]||(t[6]=function(e){return a.deleteUser()}),class:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"}," Supprimer ")])])])],512),[[s["z"],r.visible]]),r.visible?(Object(s["p"])(),Object(s["d"])("div",C)):Object(s["e"])("",!0)])])}o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d");var z=o("bc3a"),J=o.n(z),A={name:"UserProfile",data:function(){return{firstname:"",lastname:"",avatar:null,bio:"",visible:!1}},created:function(){var e=this;J.a.get("https://backendgroupomania.herokuapp.com/api/users/"+JSON.parse(sessionStorage.user).user_id,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(t){e.firstname=t.data.firstname,e.lastname=t.data.lastname,e.avatar=t.data.avatar,e.bio=t.data.bio})).catch((function(e){return console.log(e)}))},methods:{deleteUser:function(){J.a.delete("https://backendgroupomania.herokuapp.com/api/users/"+JSON.parse(sessionStorage.user).user_id,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(){return sessionStorage.removeItem("user")})).then((function(){return location.href="/"}))},toggleModal:function(){this.visible=!this.visible},modifyUser:function(){var e=this,t=new FormData;t.append("bio",document.getElementById("bio").value),t.append("image",document.getElementById("avatar").files[0]),J.a.put("https://backendgroupomania.herokuapp.com/api/users/"+JSON.parse(sessionStorage.user).user_id,t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(){return e.$router.push({path:"/users"})}))},onFileChange:function(e){var t=e.target.files[0];this.avatar=URL.createObjectURL(t)}}};A.render=U;var N=A,B={class:"m-auto px-4 py-8 max-w-xl"},P={key:0},F=Object(s["g"])("h1",{class:"p-4 font-bold text-2xl text-gray-800"},"Vous n'avez pas encore de publication",-1),M=Object(s["g"])("p",{class:"mt-2 text-sm text-gray-400"},[Object(s["f"])("Cliquez sur le logo Groupomania pour faire une publication"),Object(s["g"])("br"),Object(s["f"])(" Vous pouvez partager des images ou Gifs , n'oublier pas le titre et le texte dans votre publication ! ")],-1),_={key:1},L=Object(s["g"])("h1",{class:"p-4 font-bold text-2xl text-gray-800"},"voilà vos publications",-1),T=Object(s["g"])("p",{class:"mt-2 text-sm text-gray-400"},"vous pouvez les modifier en cliquant dessus",-1),V={class:"bg-white shadow-2xl transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110"},G={class:"px-4 py-2 mt-2 bg-white"},D={class:"p-4 font-bold text-2xl text-gray-800"},E={class:" flex items-center ml-3 mt-8 mb-4"},H={class:"text-justify"};function I(e,t,o,n,r,a){var c=Object(s["u"])("Comment"),i=Object(s["u"])("router-link");return Object(s["p"])(),Object(s["d"])("div",B,[0==r.posts.length?(Object(s["p"])(),Object(s["d"])("div",P,[F,M])):(Object(s["p"])(),Object(s["d"])("div",_,[L,T])),(Object(s["p"])(!0),Object(s["d"])(s["a"],null,Object(s["t"])(r.posts,(function(e){return Object(s["p"])(),Object(s["d"])("div",{class:"m-auto px-4 py-8 max-w-2xl",key:e.id},[Object(s["g"])(i,{to:{name:"Post",params:{id:e.id}}},{default:Object(s["B"])((function(){return[Object(s["g"])("div",V,[Object(s["g"])("div",G,[Object(s["g"])("h2",D,Object(s["w"])(e.title),1),Object(s["g"])("img",{src:e.imageurl,class:"w-full"},null,8,["src"]),Object(s["g"])("div",E,[Object(s["g"])("p",H,Object(s["w"])(e.content),1)])]),Object(s["g"])(c,{post:e},null,8,["post"])])]})),_:2},1032,["to"])])})),128))])}var R=o("4ea3"),q={name:"UserPosts",data:function(){return{posts:[]}},created:function(){this.getUserPosts()},methods:{getUserPosts:function(){var e=this,t=JSON.parse(sessionStorage.user).user_id;J.a.get("https://backendgroupomania.herokuapp.com/api/users/".concat(t,"/posts"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(t){e.posts=t.data.posts,console.log(e.posts)}))}},components:{Comment:R["a"]}};q.render=I;var $=q,K={name:"Profile",components:{LoginForm:r["a"],Header:a["a"],UserProfile:N,UserPosts:$},data:function(){return{connected:!0}},created:function(){this.userConnected()},methods:{userConnected:function(){void 0!==sessionStorage.user?(this.connected=!0,console.log("Utilisateur connecté !")):void 0==sessionStorage.user&&(this.connected=!1,console.log("Utilisateur non connecté !"))}}};K.render=n;t["default"]=K}}]);
//# sourceMappingURL=chunk-1f81ef87.4dd6de28.js.map