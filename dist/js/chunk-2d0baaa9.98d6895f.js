(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0baaa9"],{"37d3":function(e,t,o){"use strict";o.r(t);var n=o("7a23"),r={class:""};function i(e,t,o,i,a,s){var c=Object(n["u"])("LoginForm"),l=Object(n["u"])("Header"),d=Object(n["u"])("ModifyPost");return Object(n["p"])(),Object(n["d"])("div",r,[a.connected?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])(c,{key:0})),a.connected?(Object(n["p"])(),Object(n["d"])(l,{key:1})):Object(n["e"])("",!0),a.connected?(Object(n["p"])(),Object(n["d"])(d,{key:2})):Object(n["e"])("",!0)])}var a=o("61b1"),s=o("0418"),c={class:"m-auto px-4 py-8 max-w-xl"},l={class:"flex flex-col bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},d=Object(n["g"])("label",{for:"modify-title",class:"block text-gray-700 text-sm font-bold mb-2"},"Modifier le titre :",-1),u=Object(n["g"])("label",{for:"modify-content",class:"block text-gray-700 text-sm font-bold mb-2"},"Modifier le contenu :",-1),b=Object(n["g"])("label",{for:"modifyPost-img",class:"block text-gray-700 text-sm font-bold mb-2"},"Modifier image :",-1),p={class:"m-4 flex justify-center transition duration-500 ease-in-out transform hover:-translate-y-1 hover:scale-110 "},g={class:"text-sm font-bold text-gray-500  w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide  border border-blue cursor-pointer hover:bg-blue "},f=Object(n["g"])("svg",{class:"w-8 h-8 ",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[Object(n["g"])("path",{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"})],-1),m=Object(n["g"])("span",{class:"mt-2 text-base leading-normal"},"Choisir un fichier",-1),h={id:"preview",class:" object-cover  mx-4  shadow"},O={class:"flex flex-col"},x={class:"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"},j={class:"relative w-auto my-6 mx-auto max-w-sm"},y={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},v={class:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},w=Object(n["g"])("h3",{class:"text-3xl font-semibold"},"Etes-vous sûr de vouloir supprimer votre Publication ?",-1),k=Object(n["g"])("span",{class:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"},"×",-1),C={class:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b"},P={class:"opacity-25 fixed inset-0 z-40 bg-black"};function M(e,t,o,r,i,a){var s=this;return Object(n["p"])(),Object(n["d"])("div",c,[Object(n["g"])("form",l,[d,Object(n["C"])(Object(n["g"])("input",{class:"border border-gray-300 p-2 mb-8",type:"text",id:"modify-title","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.post.title=e})},null,512),[[n["y"],this.post.title]]),u,Object(n["C"])(Object(n["g"])("textarea",{class:"lg:h-56 border border-gray-300 p-2 mb-8",id:"modify-content","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.post.content=e})},null,512),[[n["y"],this.post.content]]),b,Object(n["g"])("div",p,[Object(n["g"])("label",g,[f,m,Object(n["g"])("input",{type:"file",class:"hidden",name:"imageurl",id:"imageurl",onChange:t[3]||(t[3]=function(){return a.onFileChange&&a.onFileChange.apply(a,arguments)})},null,32),Object(n["g"])("div",h,[i.imageurl?(Object(n["p"])(),Object(n["d"])("img",{key:0,src:i.imageurl,class:"flex"},null,8,["src"])):Object(n["e"])("",!0)])])])]),Object(n["g"])("div",O,[Object(n["g"])("button",{class:"cursor-pointer m-2 bg-gray-800 hover:bg-green-500 text-white text-sm py-2 px-4 font-semibold rounded focus:outline-none focus:shadow-outline h-10",type:"button",onClick:t[4]||(t[4]=function(e){return a.modifyOnePost()})},"Publier les modifications"),Object(n["g"])("button",{class:"cursor-pointer m-2 bg-gray-800 hover:bg-red-500 text-white text-sm py-2 px-4 font-semibold rounded focus:outline-none focus:shadow-outline h-10",onClick:t[5]||(t[5]=function(e){return a.toggleModal()})},"Supprimer le post")]),Object(n["C"])(Object(n["g"])("div",x,[Object(n["g"])("div",j,[Object(n["g"])("div",y,[Object(n["g"])("div",v,[w,Object(n["g"])("button",{class:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:t[6]||(t[6]=function(e){return a.toggleModal()})},[k])]),Object(n["g"])("div",C,[Object(n["g"])("button",{class:"text-red-500 bg-transparent border border-solid border-red-500 hover:bg-red-500 hover:text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:t[7]||(t[7]=function(e){return a.toggleModal()})}," Annuler "),Object(n["g"])("button",{class:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:t[8]||(t[8]=function(e){return a.deleteOnePost()})}," Supprimer ")])])])],512),[[n["z"],i.visible]]),Object(n["C"])(Object(n["g"])("div",P,null,512),[[n["z"],i.visible]])])}o("d3b7"),o("3ca3"),o("ddb0"),o("2b3d");var S=o("bc3a"),z=o.n(S),B={name:"ModifyPost",data:function(){return{modifiedContent:"",post:[],visible:!1,imageurl:"",title:""}},mounted:function(){this.getOnePost()},methods:{getOnePost:function(){var e=this,t=this.$route.params.id;z.a.get("https://backendgroupomania.herokuapp.com/api/posts/".concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(t){return e.post=t.data}))},deleteOnePost:function(){var e=this.$route.params.id;z.a.delete("https://backendgroupomania.herokuapp.com/api/posts/".concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(){return window.location.reload()}))},modifyOnePost:function(){var e=this.$route.params.id,t=new FormData;t.append("title",document.getElementById("modify-title").value),t.append("content",document.getElementById("modify-content").value),t.append("image",document.getElementById("imageurl").files[0]),z.a.put("https://backendgroupomania.herokuapp.com/api/posts/".concat(e),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+JSON.parse(sessionStorage.user).token}}).then((function(){return location.href="/"}))},toggleModal:function(){this.visible=!this.visible},onFileChange:function(e){var t=e.target.files[0];this.imageurl=URL.createObjectURL(t)}}};B.render=M;var A=B,F={name:"Post",components:{Header:s["a"],LoginForm:a["a"],ModifyPost:A},data:function(){return{connected:!0}},methods:{userConnected:function(){void 0!==sessionStorage.user?(this.connected=!0,console.log("Utilisateur connecté !")):void 0==sessionStorage.user&&(this.connected=!1,console.log("Utilisateur non connecté !"))}},created:function(){this.userConnected()}};F.render=i;t["default"]=F}}]);
//# sourceMappingURL=chunk-2d0baaa9.98d6895f.js.map